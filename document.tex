% %\documentclass[russian,utf8,floatsection,equationsection,14pt]{eskdtext}
% \documentclass{article}
% 
% \usepackage[cp1251]{inputenc}  %% 1
% \usepackage[T2A]{fontenc}      %% 2
% \usepackage[russian]{babel}
% 
% % Better sans-serif fonts
% % \usepackage{pscyr}
% % \renewcommand{\rmdefault}{cmr}
% % \renewcommand{\sfdefault}{ftx}
% % \renewcommand{\ttdefault}{cmtt}
% % % Объявляем документ класса eskdtext (подробнее можно узнать из описания пакета
% % % eskdx) russian - текст на русском языке, utf8 - кодировка документа UTF-8
% % % floatsection - нумерация таблиц и рисунков с учётом номера главы,
% % % equationsection - то же для формул
% % \usepackage{longtable} % В документе используем пакет longtable для создания таблиц 
% % \usepackage{graphicx} %s Используем графику в документе
% % \usepackage{mathtext} % Русские буквы в формулах \usepackage[T2A]{fontenc}
% % \usepackage{setspace}
% % 
% % \ESKDdocName{Проект сети широкополосного доступа на базе FTTH в г. Тавда}
% % \ESKDsignature{ДИПЛОМНЫЙ ПРОЕКТ} 
% % \ESKDdepartment{%
% % Государственное образовательное учреждение высшего профессионального образования
% % }
% % \ESKDcompany{%
% % Сибирский государственный университет телекоммуникаций и информатики
% %  
% % (ГОУ ВПО СибГУТИ)
% % }
% % \ESKDauthor{Федотов~С.\,А.} % "Разраб." в штампе на листе содержания
% % \ESKDchecker{Иванов И.И.} % "Пров."  в штампе на листе содержания
% % \ESKDnormContr{Петров П.П.} % "Н. контр." в штампе на листе содержания
% % \ESKDapprovedBy{Сидоров С.С.}%  "Увт." в штампе на листе содержания
% % \ESKDdate{2013/05/02} % Дата (Год отображается на титульной странице)
% % \ESKDsignature{ФЗО 210406.052 ПЗ} % Шифр
% % \ESKDletter{}{У}{} % Литеры 
% % \renewcommand{\ESKDtheTitleFieldX}{
% % 	Новосибирск 
% % \ESKDtheYear~г.} % Шаблон для отображения в нижней части титульного листа города и года 
% % \ESKDtitleDesignedBy{Дипломник}{Федотов С.А.} % Подпись и дата под заголовком документа 
% % \ESKDtitleApprovedBy{Зав. Кафедрой}{Лебедянцев В.В.} % Утверждаю
% % \renewcommand{\baselinestretch}{1} % Задаём единичный межстрочный интервал 
% % \ESKDsectSkip{section}{5mm}{5mm}
% % \ESKDsectSkip{subsection}{5mm}{5mm}
% % \ESKDsectSkip{subsubsection}{5mm}{5mm}
% % \ESKDsectStyle{section}{\normalsize} % Заголовки глав обычным шрифтом
% % \ESKDsectStyle{subsection}{\normalsize} % Заголовки разделов обычным шрифтом
% % \ESKDsectStyle{subsubsection}{\normalsize} % Заголовки подразделов обычным шрифтом
% \date{\vspace{-5ex}}
% 
% \begin{document} % Маркер начала документа
% 
% \maketitle % Создать титульный лист на основе данных в заголовке
% % документа
% \tableofcontents % Создать содержание документа (потребуется дважды сформировать документ для того,
% % чтобы номера страниц сформировались правильно)
% \onehalfspacing
% % Начать следующий раздел с новой страницы
% \input{enter/main}
% \input{company/main}
% \input{as_is/main}
% \input{problems/main}
% \input{goals/main}
% \input{requirements/main}
% \end{document} % Маркер завершения документа

\documentclass[a4paper,14pt]{extreport} %размер бумаги устанавливаем А4, шрифт
% 12пунктов
\usepackage{extsizes}
\usepackage{cmap} % для кодировки шрифтов в pdf
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

\usepackage{graphics}
\ifx\pdfoutput\undefined
\usepackage{graphicx}
\else
\usepackage[pdftex]{graphicx}
\fi
\graphicspath{{images/}}

\usepackage{amssymb,amsfonts,amsmath,amsthm} % математические дополнения от АМС
\usepackage{indentfirst} % отделять первую строку раздела абзацным отступом тоже
\usepackage[usenames,dvipsnames]{color} % названия цветов
\usepackage{makecell}
\usepackage{multirow} % улучшенное форматирование таблиц
\usepackage{ulem} % подчеркивания
\usepackage[dvipsnames]{xcolor}

\usepackage{listings}
\renewcommand\lstlistingname{Листинг}
\renewcommand\lstlistlistingname{Листинг}
\lstloadlanguages{Ruby}
\lstset{
    xleftmargin=\parindent,
	breaklines=true,
	basicstyle=\ttfamily\color{black},
	commentstyle = \ttfamily\color{red},
	keywordstyle=\ttfamily\color{blue},
	stringstyle=\color{orange},
	numberstyle=\tiny,
	xleftmargin=0.1cm,
	numbersep=5pt,
	columns=flexible
	keepspaces=true,
	captionpos=b
}
 
\linespread{1.3} % полуторный интервал
\renewcommand{\rmdefault}{ftm} % Times New Roman
\frenchspacing

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\rfoot[R]{\thepage}
\fancyheadoffset{0mm}
\fancyfootoffset{0mm}
\setlength{\headheight}{17pt}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancypagestyle{plain}{ 
    \fancyhf{}
    \rfoot{\thepage}}

\usepackage{titlesec}
 
\titleformat{\chapter}[display]
    {\filcenter}
    {\MakeUppercase{\chaptertitlename} \thechapter}
    {8pt}
    {\bfseries}{}
 
\titleformat{\section}
    {\normalsize\bfseries}
    {\thesection}
    {1em}{}
 
\titleformat{\subsection}
    {\normalsize\bfseries}
    {\thesubsection}
    {1em}{}
 
% Настройка вертикальных и горизонтальных отступов
\titlespacing*{\chapter}{0pt}{-30pt}{8pt}
\titlespacing*{\section}{\parindent}{*4}{*4}
\titlespacing*{\subsection}{\parindent}{*4}{*4}

\usepackage{geometry}
\geometry{left=3cm}
\geometry{right=1.5cm}
\geometry{top=2.4cm}
\geometry{bottom=2.4cm}

\usepackage{enumitem}
\makeatletter
    \AddEnumerateCounter{\asbuk}{\@asbuk}{м)}
\makeatother
\setlist{nolistsep}
\renewcommand{\labelitemi}{-}
\renewcommand{\labelenumi}{\asbuk{enumi})}
\renewcommand{\labelenumii}{\arabic{enumii})}

\newcommand{\empline}{\mbox{}\newline}
\newcommand{\likechapterheading}[1]{ 
    \begin{center}
    \textbf{\MakeUppercase{#1}}
    \end{center}
    \empline}
    
\makeatletter
    \renewcommand{\@dotsep}{2}
    \newcommand{\l@likechapter}[2]{{\bfseries\@dottedtocline{0}{0pt}{0pt}{#1}{#2}}}
\makeatother
\newcommand{\likechapter}[1]{    
    \likechapterheading{#1}    
    \addcontentsline{toc}{likechapter}{\MakeUppercase{#1}}}

\usepackage{tocloft}
\renewcommand{\cfttoctitlefont}{\hspace{0.38\textwidth} \bfseries\MakeUppercase}
\renewcommand{\cftbeforetoctitleskip}{-1em}
\renewcommand{\cftchapfont}{\normalsize\bfseries \MakeUppercase{\chaptername} }
\renewcommand{\cftsecfont}{\hspace{0pt}}
\renewcommand{\cftsubsecfont}{\hspace{-10pt}}
\renewcommand{\cftbeforechapskip}{1em}
\renewcommand{\cftparskip}{-1mm}
\renewcommand{\cftdotsep}{1}
\setcounter{tocdepth}{2} % задать глубину оглавления — до subsection включительно

\begin{document}
\tableofcontents % это оглавление, которое генерируется автоматически
\input{enter/main}
\input{company/main}
\input{as_is/main}
\input{problems/main}
\input{goals/main}
\input{requirements/main}
\input{complete_solutions/main}
\input{to_be/main}
\input{subject/main}
\input{structure/main}
\input{planning/main}
\end{document}